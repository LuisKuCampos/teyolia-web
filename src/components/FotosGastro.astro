---
import { Image } from 'astro:assets';

// 1. CARGA AUTOMÁTICA (Mágica)

const images = import.meta.glob('../assets/bodas/*.jpg', { eager: true });
// Esto importa las 16 fotos de la carpeta sin tener que escribir 16 líneas de import
const gastroImages = Object.values(images);
---

<section class=" py-6 bg-[#F5F5F5] overflow-hidden transition-colors duration-500">
  <div class="max-w-7xl mx-auto px-6 mb-12 text-center reveal-element">
    <h1
      class="font-display text-5xl md:text-7xl lg:text-8xl text-primary mb-6 leading-tight"
    >
      Fotos <br />
      <span class="italic font-light text-gray-600">Gastronomicas</span>
    </h1>

    <p
      class="mt-8 text-sm md:text-base max-w-lg mx-auto text-gray-600 leading-relaxed font-light"
    >
      Una colección curada de texturas, aromas visuales y la belleza efímera de
      la alta cocina. Capturando la esencia de cada ingrediente.
    </p>
  </div>
</section>



<section class="bg-[#F5F5F5] overflow-hidden transition-colors duration-500">
  <div class="w-full overflow-x-auto snap-x-mandatory pb-12 no-scrollbar px-6 md:px-12">
    
    <div class="grid grid-rows-2 md:grid-rows-3 grid-flow-col gap-4 w-max h-[500px] md:h-[650px] mx-auto">
      
      {gastroImages.map((img: any, index) => {
        // LÓGICA DE DISEÑO "PINTEREST":
        // Calculamos clases dinámicas para variar el tamaño y que no se vea aburrido.
        
        // Cada 4 fotos, hacemos una ALTA (row-span-2)
        const isTall = index % 4 === 0; 
        
        // Cada 3 fotos, hacemos una ANCHA (w-[400px])
        const isWide = index % 3 === 0 && !isTall;

        return (
          <div 
            class:list={[
              "rounded-3xl overflow-hidden reveal-element group cursor-pointer relative shadow-lg snap-center",
              // Aplicamos las clases según la lógica:
              isTall ? "row-span-2 w-[200px] md:w-[280px]" : 
              isWide ? "w-[300px] md:w-[400px]" : 
              "w-[200px] md:w-[280px]" // Tamaño estándar
            ]}
            style={`transition-delay: ${index * 50}ms;`} 
          >
            <Image 
              src={img.default} 
              alt={`Fotografía de boda ${index + 1}`}
              width={600}
              class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
            />
            <div class="absolute inset-0 bg-black/10 group-hover:bg-black/0 transition-colors duration-500"></div>
          </div>
        );
      })}

    </div>
  </div>
</section>